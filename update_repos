#!/bin/bash

repos="/home/aaron/plugins/plugin-utilities/repos"
misc="/home/aaron/plugins/plugin-utilities/misc"
location="/home/aaron/plugins/"
omv_code="openmediavault-code"

# plugins
while read repo; do

  echo ${repo}

  if [ ! -d "${location}${repo}" ]; then
    cd ${location}
    git clone https://github.com/OpenMediaVault-Plugin-Developers/${repo}.git
  else
    cd ${location}${repo}
    git pull
  fi

  cd ${location}${repo}
  git status

done < ${repos}

# misc repos
while read repo; do

  echo ${repo}

  if [ ! -d "${location}${repo}" ]; then
    cd ${location}
    git clone https://github.com/OpenMediaVault-Plugin-Developers/${repo}.git
  else
    cd ${location}${repo}
    git pull
  fi

  cd ${location}${repo}
  git status

done < ${misc}

# OpenMediaVault
echo "OpenMediaVault"

if [ ! -d "${location}${omv_code}" ]; then
  cd ${location}
  svn checkout svn://svn.code.sf.net/p/openmediavault/code/trunk ${omv_code}
else
  cd ${location}${omv_code}
  svn update
fi
